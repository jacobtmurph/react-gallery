(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(28)},24:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(15),o=a.n(c),l=(a(24),a(31)),s=a(32),i=a(30),h=a(5),u=a(6),m=a(11),p=a(7),f=a(12),d=a(33),E=a(29),g=function(e){return n.a.createElement("div",{className:"main-nav"},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(E.a,{to:"/search/city"},"Belfast City")),n.a.createElement("li",null,n.a.createElement(E.a,{to:"/search/forest"}," Forests ")),n.a.createElement("li",null,n.a.createElement(E.a,{to:"/search/beach"},"Beaches"))))},v=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).getSearchWords=function(e){a.setState({searchWord:e.target.value})},a.state={searchWord:""},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{id:"header"},n.a.createElement("h1",null,this.props.title),n.a.createElement("form",{className:"search-form",onSubmit:function(){return e.props.history.push("/search/".concat(e.state.searchWord,"/"))}},n.a.createElement("input",{className:"search-box",type:"search",onChange:this.getSearchWords,placeholder:"Search"}),n.a.createElement("button",{type:"submit"},"Search")),n.a.createElement(g,null))}}]),t}(r.Component),b=Object(d.a)(v),k=function(e){return n.a.createElement("li",null,n.a.createElement("img",{src:e.src,alt:""}))},y=function(e,t){var a=e.pics.map(function(e){return n.a.createElement(k,{src:"https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg"),key:e.id,alt:""})});return n.a.createElement("div",{className:"photo-container"},e.searchTag?n.a.createElement("h2",null,e.searchTag," Images"):n.a.createElement("h2",null,"Images"),a.length>0?n.a.createElement("ul",null,a):n.a.createElement("p",null,"No images found for this search"))},j=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).getTags=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce(function(e,t){var a="";return 0===e?(a+="".concat(t),e+=1):(a+="%2C+".concat(t),e+=1),a},0)},a.performSearch=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=a.getTags(t);fetch("https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(a.props.flickrKey,"&tags=Belfast%2C+").concat(n,"&per_page=24&format=json&nojsoncallback=1")).then(function(e){return e.json()}).then(function(e){return a.setState({flickr:e.photos.photo,loading:!1})}).catch(function(e){console.log("Error occured when fetching and/or parsing data",e)})},a.state={flickr:[],loading:!0},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.tag?this.performSearch("".concat(this.props.match.params.tag)):this.performSearch("")}},{key:"componentDidUpdate",value:function(){this.props.match.params.tag?this.performSearch("".concat(this.props.match.params.tag)):this.performSearch("")}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(b,{title:"Belfast Photographic Library"}),this.state.loading?n.a.createElement("span",null,"Loading..."):n.a.createElement(y,{pics:this.state.flickr,searchTag:this.props.match.params.tag}))}}]),t}(r.Component),w=Object(d.a)(j),S=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"404 Not Found"),n.a.createElement("h3",null,"The page you were looking for doesn't exist"),n.a.createElement("p",null,n.a.createElement("a",{href:"/"},"Click here to return to the Home Page.")))},O="5561c590f57da8ef2f683251a96310d0",B=function(){return n.a.createElement(l.a,null,n.a.createElement("div",{className:"container"},n.a.createElement(s.a,null,n.a.createElement(i.a,{exact:!0,path:"/",render:function(){return n.a.createElement(w,{flickrKey:O})}}),n.a.createElement(i.a,{exact:!0,path:"/search",render:function(){return n.a.createElement(b,{title:"Belfast Photographic Library: Search"})}}),n.a.createElement(i.a,{exact:!0,path:"/search/:tag",render:function(){return n.a.createElement(w,{flickrKey:O})}}),n.a.createElement(i.a,{component:S}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.a7a0907c.chunk.js.map